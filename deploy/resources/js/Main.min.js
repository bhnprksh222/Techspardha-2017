!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){e(n,window,document,t)}):"object"==typeof module&&module.exports?module.exports=function(n,a){return a===t&&(a="undefined"!=typeof window?require("jquery"):require("jquery")(n)),e(a,window,document,t),a}:e(jQuery,window,document,t)}(function(e,t,n,a){"use strict";var i={precision:0,divisions:2,pathLengths:a,startOffsets:a,strokeDashes:a,inverse:!1,stagger:!1,staggerDelay:0,duration:1,ease:Linear.easeNone,onComplete:e.noop},o=function(t,n,o,s){var r=[];switch(t.tagName.toLowerCase()){case"path":r.push(t);break;case"svg":r=e(t).find("path").toArray(),s!==a&&(r=r.sort(s));break;default:return void console.warn("Trail() :: Element ("+t.tagName+") given is not of compatible type.")}this.paths=r,this.timeLineOptions=e.extend({},o),this.properties=e.extend({},i),this.setOptions(n)},s={sanitizeOptions:function(){var t,n=this.properties,a=this.paths,o=n.divisions,s=n.pathLengths=new Float32Array(n.pathLengths),r=0,l=n.startOffsets=new Float32Array(n.startOffsets),c=0,d=n.strokeDashes=[],u=a.length,p=0;for(n.precision=parseInt(n.precision),isNaN(n.precision)&&(n.precision=i.precision),t=n.precision,n.divisions=parseInt(n.divisions),isNaN(n.divisions)&&(n.divisions=i.divisions),s.length!==u&&(s=new Uint32Array(u)),l.length!==u&&(l=new Uint32Array(u));p<u;)r=s[p],c=l[p],(isNaN(r)||0===r)&&(r=2*a[p].getTotalLength()),(isNaN(c)||0===c)&&(c=r/o),d.push((l[p]=c.toFixed(t))+" "+(s[p]=r.toFixed(t))),p++;n.pathLengths=s,n.startOffsets=l,n.duration=parseFloat(n.duration),isNaN(n.duration)&&(n.duration=i.duration),n.staggerDelay=parseFloat(n.staggerDelay),isNaN(n.staggerDelay)&&(n.staggerDelay=i.staggerDelay),e.isFunction(n.onComplete)||(n.onComplete=e.noop)}};o.prototype={setOptions:function(t){var n=this.properties;return n=e.extend(n,t),s.sanitizeOptions.apply(this),this.timeLineOptions.onComplete=n.onComplete,this.initialize()},play:function(e,t){return this.timeLine.play(e,t),this},pause:function(e,t){return this.timeLine.pause(e,t),this},resume:function(e,t){return this.timeLine.resume(e,t),this},reverse:function(e,t){return this.timeLine.reverse(e,t),this},seek:function(e,t){return this.timeLine.seek(e,t),this},initialize:function(){var e,t,n=this.properties,a=this.paths,i=n.strokeDashes,o=n.startOffsets,s=n.duration,r=n.ease,l=a.length,c=0,d=n.stagger?"0":"+=0",u=n.stagger?n.staggerDelay:0,p=this.timeLine=new TimelineMax(this.timeLineOptions);if(n.inverse)for(;c<l;)e=i[c],t=o[c],p.fromTo(a[c],s,{strokeDasharray:e,strokeDashoffset:-t},{strokeDashoffset:0,ease:r,delay:u*c},d),c++;else for(;c<l;)e=i[c],t=o[c],p.fromTo(a[c],s,{strokeDasharray:e,strokeDashoffset:t},{strokeDashoffset:0,ease:r,delay:u*c},d),c++;return this}},e.Trail=function(t){return e.extend(t,i)},e.fn.Trail=function(t,n){return this.each(function(){e.data(this,"Trail")instanceof o||e.data(this,"Trail",new o(this,t,n))})},e.fn.GetTrail=function(){var t;if(this.length>1){var n=[];return this.each(function(){t=e.data(this,"Trail"),t!==a&&t instanceof o&&n.push(t)}),e(n)}if(1===this.length&&(t=e.data(this[0],"Trail"),t!==a&&t instanceof o))return t},t.Trail=o}),function(e,t,n,a,i){"use strict";var o=function(e,t){this.x=e,this.y=t},s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame,l={},c={},d={APIAddress:"http://anshulmalik.me/api",WindowWidth:t.innerWidth,WindowHeight:t.innerHeight,WindowHalfWidth:t.innerWidth/2,WindowHalfHeight:t.innerHeight/2,MouseDeltaX:0,MouseDeltaY:0,MouseDeltaThreshold:.5,GalaxyContainerShowing:!0,GalaxyContainerTransiting:!1,GalaxyContainerX:0,GalaxyContainerY:0,GalaxyMovementSpeed:2,GalaxyMovementAnimationFrameID:i,EventSVGStarScale:100,EventSVGStarHalfSize:400,EventDefaultProperties:{id:0,societyID:0,title:"Event",description:"Description",delay:0},CategoryDefaultProperties:{id:0,title:"Category"},CategoryDiameter:512,CategoriesPosition:[],Categories:[],CategoryIDToIndexMap:{},EventIDToIndexMap:{}},u={UpdateViewBoxSize:function(){var e="0 0 "+d.WindowWidth+" "+d.WindowHeight;c.GalaxySVG.attr("viewBox",e),c.EventSVG.attr("viewBox",e)},UpdateEventSVGStarPosition:function(){a.set(c.EventSVGStar,{x:d.WindowWidth-d.EventSVGStarHalfSize,y:d.WindowHeight-d.EventSVGStarHalfSize,scale:d.EventSVGStarScale})},MoveGalaxyContainerBy:function(e,t){e=Math.abs(e)<d.MouseDeltaThreshold?0:e,t=Math.abs(t)<d.MouseDeltaThreshold?0:t,a.to(c.GalaxyContainer,2,{x:d.GalaxyContainerX+=e,y:d.GalaxyContainerY+=t,ease:Power4.easeOut})},GalaxyMovementAnimationLoop:function(){d.GalaxyContainerShowing&&!d.GalaxyContainerTransiting?(u.MoveGalaxyContainerBy(d.MouseDeltaX,d.MouseDeltaY),d.GalaxyMovementAnimationFrameID=s(u.GalaxyMovementAnimationLoop)):(r(d.GalaxyMovementAnimationFrameID),d.GalaxyMovementAnimationFrameID=i)},WindowOnResize:function(){d.WindowHalfWidth=(d.WindowWidth=t.innerWidth)/2,d.WindowHalfHeight=(d.WindowHeight=t.innerHeight)/2,u.UpdateViewBoxSize(),u.UpdateEventSVGStarPosition()},WindowOnMouseMove:function(e){d.MouseDeltaX=(d.WindowHalfWidth-e.pageX)/d.WindowHalfWidth*d.GalaxyMovementSpeed,d.MouseDeltaY=(d.WindowHalfHeight-e.pageY)/d.WindowHalfHeight*d.GalaxyMovementSpeed,d.GalaxyMovementAnimationFrameID===i&&(d.GalaxyMovementAnimationFrameID=s(u.GalaxyMovementAnimationLoop))},WindowOnMouseOut:function(e){var t=e.target;(!t||"svg"===t.nodeName.toLowerCase()&&"GalaxySVG"===t.id)&&(r(d.GalaxyMovementAnimationFrameID),d.GalaxyMovementAnimationFrameID=i)},$CreateEvent:function(e,t){var n=l.Event.clone();return n.find("text").html(e),a.set(n,t),n},$CreateCategory:function(e,t){var n=l.Category.clone();return n.find("text").html(e),a.set(n,t),n},EventOnClick:function(){var t=e.data(this,"Event");t.showDetails()},ShowGalaxyContainer:function(t,n){t=t||2,n=n||i,d.GalaxyContainerTransiting=!0,a.fromTo(c.GalaxyContainer,t,{display:"block",opacity:0,scale:.5,transformOrigin:"50% 50% 0"},{opacity:1,scale:1,transformOrigin:"50% 50% 0",ease:Power4.easeOut,onComplete:function(){d.GalaxyContainerTransiting=!1,d.GalaxyContainerShowing=!0,e.isFunction(n)&&n()}})},HideGalaxyContainer:function(t,n){t=t||2,n=n||i,d.GalaxyContainerTransiting=!0,a.fromTo(c.GalaxyContainer,t,{display:"block",opacity:1,scale:1,transformOrigin:"50% 50% 0"},{opacity:0,scale:.5,transformOrigin:"50% 50% 0",ease:Power4.easeOut,onComplete:function(){d.GalaxyContainerTransiting=!1,c.GalaxyContainer.css("display","none"),d.GalaxyContainerShowing=!1,e.isFunction(n)&&n()}})},ShowEventSection:function(e,t){e=e||2,t=t||i;var n=e/2;c.EventSVGStarShells.css("display","none"),a.fromTo(c.EventSection,e,{display:"block",opacity:0,top:"100vh"},{opacity:1,top:0,ease:Power4.easeOut,onComplete:function(){c.EventSVGStarShells.css("display","block")}}),a.fromTo(c.EventContentContainer,n,{opacity:0},{opacity:1,ease:Power4.easeOut,delay:n,onComplete:t}),a.staggerFromTo(c.EventContentContainerElements,n,{opacity:0,top:50},{opacity:1,top:0,ease:Power4.easeOut,delay:n},.2)},HideEventSection:function(t,n){t=t||2,n=n||i,a.fromTo(c.EventSection,t,{display:"block",opacity:1},{opacity:0,ease:Power4.easeOut,onComplete:function(){c.EventSVGStarShells.css("display","none"),c.EventSection.css("display","none"),e.isFunction(n)&&n()}})},EventCloseOnClick:function(){u.HideEventSection(),u.ShowGalaxyContainer()},ExtendResponse:function(t){return e.extend({status:{code:200,message:"SUCCESS"},data:[]},t)},Initialize:function(){e.ajax({url:d.APIAddress+"/categories",type:"GET",beforeSend:function(){},success:function(t){if(t=u.ExtendResponse(t),200===t.status.code){var n=t.data,a=n.length;e.ajax({url:d.APIAddress+"/events",type:"GET",beforeSend:function(){},success:function(e){if(e=u.ExtendResponse(e),200===e.status.code){var t,i,s,r,l=e.data,c=l.length,h={};for(d.CategoriesPosition=[],d.CategoryIDToIndexMap={},i=0;i<a;i++)r=n[i].Id,h[r]=[],d.CategoryIDToIndexMap[r]=i,d.CategoriesPosition.push(new o(2048*(Math.random()-.5)+d.WindowHalfWidth,2048*(Math.random()-.5)+d.WindowHalfHeight));for(var y=0;y<c;y++)t=l[y],h[t.CategoryId].push({id:t.Id,societyID:t.SocietyId,title:t.Name});for(d.Categories.length=0,d.EventIDToIndexMap={},i=0;i<a;i++)s=n[i],d.Categories.push(new p(i,{id:s.Id,title:s.Name},h[s.Id]))}},complete:function(){}})}},complete:function(){}})},GetCategoryFromID:function(e){return d.Categories[d.CategoryIDToIndexMap[e]]},GetEventFromID:function(e,t){return u.GetCategoryFromID(e).events[d.EventIDToIndexMap[t]]}};t.GetCategoryFromID=u.GetCategoryFromID,t.GetEventFromID=u.GetEventFromID,t.APIAddress=d.APIAddress,t.Categories=d.Categories;var p=function(t,n,a){this.index=t,this.properties=e.extend({},d.CategoryDefaultProperties,n),this.position=d.CategoriesPosition[t],this.events=[],this.setEvents(a),this.initialize()};p.prototype={initialize:function(){var t=this.position,n=this.$category=u.$CreateCategory(this.properties.title,{x:t.x,y:t.y}).appendTo(c.GalaxyContainer);return e.data(n.get(0),"Category",this),this.$title=n.find("text"),this.appendEvents(this.show),this},clearEvents:function(){for(var e=this.events,t=e.length,n=0;n<t;)e[n].$event.remove(),e[n]=null,n++;return this},setEvents:function(e){this.clearEvents();for(var t,n=this.events,a=e.length,i=0;i<a;i++)t=e[i],d.EventIDToIndexMap[t.id]=i,n.push(new h(this,i,t));return this},appendEvents:function(t){function n(e,n){setTimeout(function(){e.appendTo(i),++l===s&&t.apply(a)},n)}e.isFunction(t)||(t=e.noop);for(var a=this,i=a.$category,o=a.events,s=o.length,r=0,l=0;r<s;)n(o[r].$event,1e3*Math.random()),r++;return this},show:function(e){var t=this;a.fromTo(t.$category,1,{opacity:0},{opacity:1,ease:Power4.easeInOut,onComplete:e?i:function(){t.showEvents()}}),a.fromTo(t.$title,1,{y:-32},{y:0,ease:Power4.easeOut})},showEvents:function(){for(var e=this.events,t=e.length,n=0;n<t;)e[n].show(),n++}},t.Category=p;var h=function(t,n,a){this.category=t,this.index=n,this.properties=e.extend({},d.EventDefaultProperties,a),this.initialize()};h.prototype={initialize:function(){var t=this.properties,n=this.position=new o(d.CategoryDiameter*(Math.random()-.5),d.CategoryDiameter*(Math.random()-.5)),a=this.$event=u.$CreateEvent(t.title,{x:n.x,y:n.y,display:"none"});return e.data(a.get(0),"Event",this),this.$title=a.find("text"),this},show:function(){return a.fromTo(this.$event,2,{display:"block",opacity:0,scale:.5,transformOrigin:"50% 50% 0"},{opacity:1,scale:1,transformOrigin:"50% 50% 0",ease:Power4.easeInOut}),a.fromTo(this.$title,1,{opacity:0,y:-8},{opacity:1,y:0,ease:Power4.easeInOut,delay:1.5}),this},showDetails:function(){return c.EventContentTitle.text(this.properties.title),c.EventContentCategory.text(this.category.properties.title),c.EventContentDescription.text(this.properties.description),u.ShowEventSection(),u.HideGalaxyContainer(),this}},t.Event=h,e(function(){c.GalaxySVG=e("#GalaxySVG",n),c.GalaxyContainer=e("#GalaxyContainer",c.GalaxySVG),l.Event=c.GalaxyContainer.find(".Event").clone(),c.GalaxyContainer.find(".Event").remove(),l.Category=c.GalaxyContainer.find(".Category").clone(),c.GalaxyContainer.find(".Category").remove(),c.EventSection=e("#EventSection",n),c.EventSVG=e("#EventSVG",c.EventSection),c.EventSVGStar=e(".Star",c.EventSVG),c.EventSVGStarShells=e(".Shell",c.EventSVGStar),c.EventContentContainer=e("#EventContentContainer",c.EventSection),c.EventContentContainerElements=e("> div > div",c.EventContentContainer).children(),c.EventContentTitle=e("#EventContentTitle",c.EventContentContainer),c.EventContentCategory=e("#EventContentCategory",c.EventContentContainer),c.EventContentDescription=e("#EventContentDescription",c.EventContentContainer),u.WindowOnResize(),d.GalaxyMovementAnimationFrameID=s(u.GalaxyMovementAnimationLoop),c.EventSection.css("display","none"),u.Initialize()}),e(n).on("click",".Event",u.EventOnClick).on("click","#EventClose",u.EventCloseOnClick),e(t).on("resize",u.WindowOnResize).on("mouseout",u.WindowOnMouseOut).on("mousemove",u.WindowOnMouseMove)}(jQuery,window,document,TweenMax),function(e,t,n,a,i){var o={Categories:n.Categories,isCollapsed:!0,isCollapsing:!1,isCategoriesDisplayed:!1,primaryMenuData:[],searchResult:[],APIAddress:n.APIAddress},s={SearchSVG:null,MainMenuButton:null,MainMenuButtonOverlay:null},r={toMonth:function(e){switch(e){case"01":return"Jan";case"02":return"Feb";case"03":return"Mar";case"04":return"Apr";case"05":return"May";case"06":return"Jun";case"07":return"Jul";case"08":return"Aug";case"09":return"Sep";case"10":return"Oct";case"11":return"Nov";case"12":return"Dec"}},OpenMenu:function(){if(o.isCollapsed){i.set(s.MainMenuCloseButton,{display:"block"}),TweenLite.fromTo(s.MainMenuButton,.5,{scale:.5},{scale:.88,ease:Back.easeOut}),i.to(s.MainMenu,.2,{left:"0"});var e=s.SearchBox.Borders.children();i.set(s.SearchBox.Borders,{display:"block"}),e.each(function(){var e=a(this).PathAnimation();e.data("PathAnimation").Animate(1,{delay:.4,ease:Power4.easeOut,clearOpacity:!0})}),i.fromTo(s.SearchBox.GlassHandle,.5,{attr:{d:"m 3.4532481,1031.6817 48.8640159,0"}},{attr:{d:"m 10.555653,1043.6641 9.469718,-8.7922"},ease:Power4.easeOut,onComplete:function(){var e=s.SearchBox.Glass.PathAnimation();e.data("PathAnimation").Animate(1,{ease:Back.easeOut,clearOpacity:!0}),i.set(s.MenuButton.TopLine,{opacity:0}),i.set(s.MenuButton.BottomLine,{opacity:0}),i.set(s.SearchInput,{display:"block"}),o.isCollapsed=!1,s.SearchInput.focus(),r.DisplayPrimaryOption()}})}},CloseMenu:function(){if(o.isCollapsed===!1){var e=s.SearchBox.Borders.children();o.isCollapsing=!0;var t=s.SearchBox.Glass.PathAnimation();t.data("PathAnimation").ReverseDraw(1,{ease:Back.easeOut,clearOpacity:!0,onComplete:function(){i.set(s.MainMenuCloseButton,{display:"none"}),i.set(s.MenuButton.TopLine,{opacity:1}),i.set(s.MenuButton.BottomLine,{opacity:1}),i.set(s.SearchInput,{display:"none"}),i.fromTo(s.SearchBox.GlassHandle,.5,{attr:{d:"m 10.555653,1043.6641 9.469718,-8.7922"}},{attr:{d:"m 3.4532481,1031.6817 48.8640159,0"},ease:Power4.easeIn,onComplete:function(){i.fromTo(s.MainMenuButton,.2,{scale:.88},{scale:.5,onComplete:function(){o.isCollapsed=!0,o.isCollapsing=!1}}),s.PrimaryMenuContainer.html("")}}),i.to(s.MainMenu,.2,{left:"-100%"})}}),e.each(function(){var e=a(this).PathAnimation();e.data("PathAnimation").ReverseDraw(1,{delay:.4,clearOpacity:!0,ease:Power4.easeIn})})}},DisplayPrimaryOption:function(){s.CategoryTab.addClass("activeTab"),s.SearchTab.removeClass("activeTab"),o.isCategoriesDisplayed=!0,s.CategoryTab.html('Categories<div class="tabLine"></div>'),s.PrimaryMenuContainer.html("");for(var e=0;e<o.Categories.length;e++){var t=a('<div data-index="'+e+'" data-catid="'+o.Categories[e].properties.id+'" class="menuOption">'+o.Categories[e].properties.title+"</div>").bind("click",r.DisplayEvents);s.PrimaryMenuContainer.append(t)}r.RevealMenuOptions()},DisplayEvents:function(e){o.isCategoriesDisplayed=!1;var t=a(e.target).data().index,n=a(e.target).data().catid,i=o.Categories[t];s.PrimaryMenuContainer.html(""),s.CategoryTab.html('<span class="glyphicon glyphicon-chevron-left"></span>'+i.properties.title+'<div class="tabLine"></div>');for(var l=0;l<i.events.length;l++){var c=a('<div data-catid="'+(n+1)+'" data-eventid="'+i.events[l].properties.id+'" class="menuEventOption">'+i.events[l].properties.title+'<span class="eventCorner"></span></div>').bind("click",r.MenuEventClicked);s.PrimaryMenuContainer.append(c)}0===i.events.length&&s.PrimaryMenuContainer.append("<h3>Events coming soon</h3>"),r.RevealMenuOptions()},MenuEventClicked:function(e){var t=a(e.target).data();r.CloseMenu(),r.GetEventFromID(t.catid,t.eventid).showDetails()},GetSearchResults:function(e){s.PrimaryMenuContainer.html(""),s.SearchTab.addClass("activeTab"),s.CategoryTab.removeClass("activeTab"),0===e.length?(o.searchResult=[],r.RenderSearchResults(o.searchResult)):a.ajax({url:o.APIAddress+"/events?query="+e,type:"GET",success:function(e){o.searchResult=e.data,r.RenderSearchResults()}})},RenderSearchResults:function(){if(s.CategoryTab.html('Categories<div class="tabLine"></div>'),o.isCategoriesDisplayed=!1,0===o.searchResult.length)s.PrimaryMenuContainer.append("<h3>No Results to Display</h3>");else{for(var e=0;e<o.searchResult.length;e++){var t=o.searchResult[e],n=parseInt(t.Start.substr(11,2)),i={day:t.Start.substr(8,2),month:t.Start.substr(5,2),hour:n>12?n-12:n,min:t.Start.substr(14,2)+" "+(n>=12?"pm":"am")},l=parseInt(t.Id),c=(parseInt(t.CategoryId),a('<div data-catid="'+t.CategoryId+'" data-eventid="'+l+'" class="searchOption">\n    <div data-catid="'+t.CategoryId+'" data-eventid="'+l+'" class="row">\n        <div data-catid="'+t.CategoryId+'" data-eventid="'+l+'"  class="searchNameInfo">\n            <div data-catid="'+t.CategoryId+'" data-eventid="'+l+'" class="searchName">'+t.Name+'<span data-catid="'+t.CategoryId+'" data-eventid="'+l+'" class="searchDate"><span>'+i.day+"</span> "+r.toMonth(i.month)+", <span>"+i.hour+":"+i.min+'</span></span></div>\n        </div>\n        <div data-catid="'+t.CategoryId+'" data-eventid="'+l+'" class="searchDesc">'+t.Description+"</div>\n     </div>\n</div>").bind("click",r.MenuEventClicked));s.PrimaryMenuContainer.append(c)}r.RevealMenuOptions()}},RevealMenuOptions:function(){i.fromTo(s.PrimaryMenuContainer.children(),1,{marginTop:"-10px",opacity:0},{marginTop:"10px",opacity:1,ease:Back.easeOut})},GetCategoryFromID:n.GetCategoryFromID,GetEventFromID:n.GetEventFromID};t.ready(function(){s.SearchSVG=a("svg#searchBarSVG"),s.MainMenu=a("aside#searchMenu"),s.MainMenuButton=a("#MenuIcon"),s.MenuButton={TopLine:a("#menuTopLine"),BottomLine:a("#menuBottomLine")},s.SearchBox={Borders:a("#searchBoxBorder"),Glass:a("#magnifying"),GlassHandle:a("#searchHandle")},s.MainMenuButtonOverlay=a("#menuButtonOverlay").bind("click",function(){o.isCollapsed&&!o.isCollapsing&&r.OpenMenu()}),s.MainMenuCloseButton=a("#menuClose").bind("click",function(){o.isCollapsed||o.isCollapsing||r.CloseMenu()}),s.PrimaryMenuContainer=a("div#primaryMenuOptions"),s.SearchInput=a("#searchBox").bind("keyup",function(e){if(13==e.keyCode){var t=s.SearchInput.val();r.GetSearchResults(t)}}),s.CategoryTab=a("#categoryTabButton").bind("click",function(){o.isCategoriesDisplayed||r.DisplayPrimaryOption()}),s.SearchTab=a("#resultTabButton").bind("click",function(){r.GetSearchResults(s.SearchInput.val())}),t.on("keyup",function(e){27!=e.keyCode||o.isCollapsed||o.isCollapsing||r.CloseMenu()}),i.set(s.MainMenuButton,{transformOrigin:"50% 50%",scale:.5})})}(document,jQuery(document),window,jQuery,TweenMax);
