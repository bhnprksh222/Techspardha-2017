!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){e(n,window,document,t)}):"object"==typeof module&&module.exports?module.exports=function(n,a){return a===t&&(a="undefined"!=typeof window?require("jquery"):require("jquery")(n)),e(a,window,document,t),a}:e(jQuery,window,document,t)}(function(e,t,n,a){"use strict";var o={precision:0,divisions:2,pathLengths:a,startOffsets:a,strokeDashes:a,inverse:!1,stagger:!1,staggerDelay:0,duration:1,ease:Linear.easeNone,onComplete:e.noop},i=function(t,n,i,r){var s=[];switch(t.tagName.toLowerCase()){case"path":s.push(t);break;case"svg":case"g":s=e(t).find("path").toArray(),r!==a&&(s=s.sort(r));break;default:return void console.warn("Trail() :: Element ("+t.tagName+") given is not of compatible type.")}this.paths=s,this.timeLineOptions=e.extend({},i),this.properties=e.extend({},o),this.setOptions(n)},r={sanitizeOptions:function(){var t,n=this.properties,i=this.paths,r=n.divisions,s=n.pathLengths=new Float32Array(n.pathLengths===a?[]:n.pathLengths),l=0,c=n.startOffsets=new Float32Array(n.startOffsets===a?[]:n.startOffsets),u=0,d=n.strokeDashes=[],m=i.length,p=0;for(n.precision=parseInt(n.precision),isNaN(n.precision)&&(n.precision=o.precision),t=n.precision,n.divisions=parseInt(n.divisions),isNaN(n.divisions)&&(n.divisions=o.divisions),s.length!==m&&(s=new Float32Array(m)),c.length!==m&&(c=new Float32Array(m));p<m;)l=s[p],u=c[p],(isNaN(l)||0===l)&&(l=2*i[p].getTotalLength()),(isNaN(u)||0===u)&&(u=l/r),d.push((c[p]=u.toFixed(t))+" "+(s[p]=l.toFixed(t))),p++;n.pathLengths=s,n.startOffsets=c,n.duration=parseFloat(n.duration),isNaN(n.duration)&&(n.duration=o.duration),n.staggerDelay=parseFloat(n.staggerDelay),isNaN(n.staggerDelay)&&(n.staggerDelay=o.staggerDelay),e.isFunction(n.onComplete)||(n.onComplete=e.noop)}};i.prototype={setOptions:function(t){var n=this.properties;return n=e.extend(n,t),r.sanitizeOptions.apply(this),this.timeLineOptions.onComplete=n.onComplete,this.initialize()},play:function(e,t){return this.timeLine.play(e,t),this},pause:function(e,t){return this.timeLine.pause(e,t),this},resume:function(e,t){return this.timeLine.resume(e,t),this},reverse:function(e,t){return this.timeLine.reverse(e,t),this},seek:function(e,t){return this.timeLine.seek(e,t),this},initialize:function(){var e,t,n=this.properties,a=this.paths,o=n.strokeDashes,i=n.startOffsets,r=n.duration,s=n.ease,l=a.length,c=0,u=n.stagger?"0":"+=0",d=n.stagger?n.staggerDelay:0,m=this.timeLine=new TimelineMax(this.timeLineOptions);if(n.inverse)for(;c<l;)e=o[c],t=i[c],m.fromTo(a[c],r,{strokeDasharray:e,strokeDashoffset:-t},{strokeDashoffset:0,ease:s,delay:d*c},u),c++;else for(;c<l;)e=o[c],t=i[c],m.fromTo(a[c],r,{strokeDasharray:e,strokeDashoffset:t},{strokeDashoffset:0,ease:s,delay:d*c},u),c++;return this}},e.Trail=function(t){return e.extend(t,o)},e.fn.Trail=function(t,n){return this.each(function(){e.data(this,"Trail",new i(this,t,n))})},e.fn.GetTrail=function(){var t;if(this.length>1){var n=[];return this.each(function(){t=e.data(this,"Trail"),t!==a&&t instanceof i&&n.push(t)}),e(n)}if(1===this.length&&(t=e.data(this[0],"Trail"),t!==a&&t instanceof i))return t},t.Trail=i}),function(e,t,n,a,o){"use strict";String.prototype.capitalize=function(){var e,t=this.split(" "),n=0,a=t.length,o="";if(a>0)for(e=t[n++],o+=e.charAt(0).toUpperCase()+e.slice(1);n<a;n++)e=t[n],o+=" "+e.charAt(0).toUpperCase()+e.slice(1);return o};var i=function(e,t){this.x=e,this.y=t},r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,s=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame,l={},c={},u=Math.floor,d=Math.sin,m=Math.cos,p=Math.PI,f=p/2,h=2*p,y=h+p,v=new i(0,0),g={APIAddress:"http://techspardha.org/api",WindowWidth:t.innerWidth,WindowHeight:t.innerHeight,WindowHalfWidth:t.innerWidth/2,WindowHalfHeight:t.innerHeight/2,GalaxyMovementDeltaX:0,GalaxyMovementDeltaY:0,MouseDeltaThreshold:5,GalaxyDiameter:2048,GalaxyRadius:1024,CategoryDiameterMultiplier:48,CategoryDiameterMinimum:128,CategoryDiameterMaximum:640,GalaxyMapRadius:0,GalaxyMapMinimumX:0,GalaxyMapMinimumY:0,GalaxyMapMaximumX:0,GalaxyMapMaximumY:0,GalaxySVGShowing:!0,GalaxySVGTransiting:!1,GalaxyMovementSpeed:30,GalaxyMovementAnimationFrameID:o,EventSectionShowing:!1,EventSectionTransiting:!1,EventDefaultProperties:{id:0,societyID:0,title:"Event",description:"Description",image:"IMAGE_URL",venue:"Venue",startTime:"Start Time",endTime:"End Time",currentRound:1,totalRounds:1,maxParticipants:1,status:"Not Started",pdf:"PDF_URL",rules:"Rules",coordinators:[],delay:0,color:"rgb(255, 255, 255)"},CategoryDefaultProperties:{id:0,title:"Category"},CategoriesPosition:[],Categories:[],CategoryIDToIndexMap:{},EventIDToIndexMap:{}},S={ShowLoading:function(){c.LoadingFrame.addClass("Show")},HideLoading:function(){a.killTweensOf(c.LoadingFrame),a.fromTo(c.LoadingFrame,1,{opacity:1,scale:1,transformOrigin:"50% 50% 0"},{opacity:0,scale:1.3,transformOrigin:"50% 50% 0",ease:Power4.easeInOut,clearProps:"all",onComplete:function(){c.LoadingFrame.removeClass("Show")}})},UpdateGalaxyViewBox:function(){c.GalaxySVG.attr("viewBox",v.x+" "+v.y+" 1280 720")},MoveGalaxyBy:function(e,t){var n=v.x-(Math.abs(e)<g.MouseDeltaThreshold?0:e),o=v.y-(Math.abs(t)<g.MouseDeltaThreshold?0:t);(n<=g.GalaxyMapMinimumX||n+1280>=g.GalaxyMapMaximumX)&&(console.log("X out of bounds @ "+n),n=g.GalaxyMapMaximumX-1280),(o<=g.GalaxyMapMinimumY||o+720>=g.GalaxyMapMaximumY)&&(o=g.GalaxyMapMaximumY-720),a.to(v,2,{x:n,y:o,onUpdate:S.UpdateGalaxyViewBox,ease:Power4.easeOut}),a.to(c.FieldOfView,2,{attr:{x:(n-640)/g.GalaxyMapRadius*50+50,y:(o-360)/g.GalaxyMapRadius*50+50},ease:Power4.easeOut})},RequestGalaxyMovementAnimationLoop:function(){g.GalaxyMovementAnimationFrameID=r(S.GalaxyMovementAnimationLoop)},CancelGalaxyMovementAnimationLoop:function(){s(g.GalaxyMovementAnimationFrameID),g.GalaxyMovementAnimationFrameID=o},GalaxyMovementAnimationLoop:function(){g.GalaxySVGShowing&&!g.GalaxySVGTransiting?(S.MoveGalaxyBy(g.GalaxyMovementDeltaX,g.GalaxyMovementDeltaY),S.RequestGalaxyMovementAnimationLoop()):S.CancelGalaxyMovementAnimationLoop()},WindowOnResize:function(){g.WindowHalfWidth=(g.WindowWidth=t.innerWidth)/2,g.WindowHalfHeight=(g.WindowHeight=t.innerHeight)/2,S.UpdateGalaxyViewBox()},WindowOnMouseMove:function(e){g.GalaxyMovementDeltaX=(g.WindowHalfWidth-e.pageX)/g.WindowHalfWidth*g.GalaxyMovementSpeed,g.GalaxyMovementDeltaY=(g.WindowHalfHeight-e.pageY)/g.WindowHalfHeight*g.GalaxyMovementSpeed,g.MenuSectionShowing||g.EventSectionShowing||g.GalaxyMovementAnimationFrameID!==o||S.RequestGalaxyMovementAnimationLoop()},WindowOnMouseOut:function(e){var t=e.target;(!t||"svg"===t.nodeName.toLowerCase()&&"GalaxySVG"===t.id)&&S.CancelGalaxyMovementAnimationLoop()},WindowOnKeyUp:function(e){var t=e.keyCode;switch(t){case 27:S.HeaderCloseButtonOnClick()}},GenerateRandomColor:function(e,t,n,a,o,i){e=e||0,t=t||255,n=n||0,a=a||255,o=o||0,i=i||255;var r=Math.round(Math.random()*(t-e+1)+e),s=Math.round(Math.random()*(a-n+1)+n),l=Math.round(Math.random()*(i-o+1)+o);return"rgb("+r+", "+s+", "+l+")"},$CreateEvent:function(e,t,n){var o=l.Event.clone();return o.find("text").html(e),o.find(".Star").css("fill",t),a.set(o,n),o},$CreateCategory:function(e,t){var n=l.Category.clone();return n.find("text").html(e),a.set(n,t),n},UpdateEventClock:function(e,t){var n=u(e/60),a=u(e%60),o=(t-e)/t,i=o*h-f,r=100+90*m(i),s=100+90*d(i);c.EventClockMinute.html(n),c.EventClockSecond.html(a>9?a:"0"+a),i>=-f&&i<0?c.EventClockTick.attr("d","M 100 10 A 90 90 0 0 1 "+r+" "+s):i>=0&&i<f?c.EventClockTick.attr("d","M 100 10 A 90 90 0 0 1 190 100 A 90 90 0 0 1 "+r+" "+s):i>=f&&i<p?c.EventClockTick.attr("d","M 100 10 A 90 90 0 0 1 190 100 A 90 90 0 0 1 100 190 A 90 90 0 0 1 "+r+" "+s):i>p&&i<=y&&c.EventClockTick.attr("d","M 100 10 A 90 90 0 0 1 190 100 A 90 90 0 0 1 100 190 A 90 90 0 0 1 10 100 A 90 90 0 0 1 "+r+" "+s)},StopEventClock:function(){c.EventClockTick.attr("d","M 100 10 A 90 90 0 0 1 190 100 A 90 90 0 0 1 100 190 A 90 90 0 0 1 10 100 A 90 90 0 0 1 100 10")},EventOnClick:function(){var t=e.data(this,"Event");t.showDetails()},ShowLogo:function(e,t){e=e||1,t=t||o,a.killTweensOf(c.Logo),a.fromTo(c.Logo,e,{top:"-6.4rem"},{top:"1.2rem",ease:Power4.easeOut,onComplete:t})},HideLogo:function(e,t){e=e||1,t=t||o,a.killTweensOf(c.Logo),a.fromTo(c.Logo,e,{top:"1.2rem"},{top:"-6.4rem",ease:Power4.easeOut,onComplete:t})},ShowHeaderCloseButton:function(e,t){e=e||1,t=t||o,a.killTweensOf(c.HeaderCloseButton),a.fromTo(c.HeaderCloseButton,e,{top:"12.4rem",opacity:0},{top:"5.4rem",opacity:1,ease:Power4.easeOut,onComplete:t})},HideHeaderCloseButton:function(e,t){e=e||1,t=t||o,a.killTweensOf(c.HeaderCloseButton),a.fromTo(c.HeaderCloseButton,e,{top:"5.4rem",opacity:1},{top:"12.4rem",opacity:0,ease:Power4.easeOut,onComplete:t})},ShowGalaxySVG:function(t,n){t=t||2,n=n||o,g.GalaxySVGShowing||g.GalaxySVGTransiting||(g.GalaxySVGTransiting=!0,a.killTweensOf(c.GalaxySVG),a.fromTo(c.GalaxySVG,t,{opacity:0},{opacity:1,ease:Power4.easeOut,onComplete:function(){g.GalaxySVGTransiting=!1,g.GalaxySVGShowing=!0,e.isFunction(n)&&n()}}),a.killTweensOf(c.GalaxyContainer),a.fromTo(c.GalaxyContainer,t,{scale:.5,transformOrigin:"50% 50% 0"},{scale:1,transformOrigin:"50% 50% 0",ease:Power4.easeOut}))},HideGalaxySVG:function(t,n){t=t||2,n=n||o,g.GalaxySVGShowing&&!g.GalaxySVGTransiting&&(g.GalaxySVGTransiting=!0,a.killTweensOf(c.GalaxySVG),a.fromTo(c.GalaxySVG,t,{opacity:1},{opacity:0,ease:Power4.easeOut,onComplete:function(){g.GalaxySVGTransiting=!1,g.GalaxySVGShowing=!1,e.isFunction(n)&&n()}}),a.killTweensOf(c.GalaxyContainer),a.fromTo(c.GalaxyContainer,t,{scale:1,transformOrigin:"50% 50% 0"},{scale:.5,transformOrigin:"50% 50% 0",ease:Power4.easeOut}))},ShowEventSection:function(t,n){if(t=t||2,n=n||o,!g.EventSectionShowing&&!g.EventSectionTransiting){var i=t/2;g.EventSectionTransiting=!0,c.EventSVGStarShells.removeClass("Animate"),S.HideLogo(),S.ShowHeaderCloseButton(),a.killTweensOf(c.EventSection),a.fromTo(c.EventSection,t,{opacity:0,top:"100vh"},{opacity:1,top:0,ease:Power4.easeOut,onComplete:function(){c.EventSVGStarShells.addClass("Animate")}}),a.killTweensOf(c.EventContentContainer),a.fromTo(c.EventContentContainer.css("overflow-y","hidden"),i,{opacity:0},{opacity:1,ease:Power4.easeOut,delay:i,onComplete:function(){g.EventSectionTransiting=!1,g.EventSectionShowing=!0,c.EventContentContainer.css("overflow-y","auto"),e.isFunction(n)&&n()}}),a.killTweensOf(c.EventContentContainerElements),a.staggerFromTo(c.EventContentContainerElements,i,{opacity:0,top:"5rem"},{opacity:1,top:0,ease:Power4.easeOut,delay:i},.1)}},HideEventSection:function(t,n){t=t||.5,n=n||o,g.EventSectionShowing&&!g.EventSectionTransiting&&(S.ShowLogo(),S.HideHeaderCloseButton(),a.killTweensOf(c.EventSection),a.fromTo(c.EventSection,t,{opacity:1,scale:1,transformOrigin:"50% 50% 0"},{opacity:0,scale:1.3,transformOrigin:"50% 50% 0",ease:Power4.easeIn,clearProps:"all",onComplete:function(){g.EventSectionTransiting=!1,c.EventSection.css({opacity:0,top:"100vh"}),c.EventSVGStarShells.removeClass("Animate"),g.EventSectionShowing=!1,e.isFunction(n)&&n()}}))},ExtendResponse:function(t){return e.extend({status:{code:200,message:"SUCCESS"},data:[]},t)},Initialize:function(){e.ajax({url:g.APIAddress+"/categories",type:"GET",success:function(t){if(t=S.ExtendResponse(t),200===t.status.code){var a=t.data,o=a.length;e.ajax({url:g.APIAddress+"/events",type:"GET",success:function(t){if(t=S.ExtendResponse(t),200===t.status.code){var r,s,l,c,u=t.data,d=u.length,m={},p=g.CategoriesPosition=[],f=g.CategoryIDToIndexMap={};for(s=0;s<o;s++)c=a[s].Id,m[c]=[],f[c]=s,p.push(new i((Math.random()-.5)*g.GalaxyDiameter+640,(Math.random()-.5)*g.GalaxyDiameter+360));for(var h=0;h<d;h++)r=u[h],m[r.CategoryId].push({id:r.Id,societyID:r.SocietyId,title:r.Name,description:r.Description,image:r.Image,venue:r.Venue,startTime:new Date(r.Start),endTime:new Date(r.End),currentRound:r.CurrentRound,totalRounds:r.TotalRounds,maxParticipants:r.MaxContestants,status:r.Status,pdf:r.Pdf,rules:r.Rules,coordinators:r.Coordinators});var y=g.Categories;for(y.length=0,g.EventIDToIndexMap={},s=0;s<o;s++)l=a[s],y.push(new M(s,{id:l.Id,title:l.Name.toLowerCase().capitalize()},m[l.Id]));e(n).trigger("initialized")}},error:function(){console.log("Error Events [Retrying in 2 seconds...] :: "+arguments),setTimeout(S.Initialize,2e3)}})}},error:function(){console.log("Error Categories [Retrying in 2 seconds...] :: "+arguments),setTimeout(S.Initialize,2e3)}})},GetCategoryFromID:function(e){return g.Categories[g.CategoryIDToIndexMap[e]]},GetEventFromID:function(e,t){return S.GetCategoryFromID(e).events[g.EventIDToIndexMap[t]]},HeaderCloseButtonOnClick:function(){g.MenuSectionShowing?S.HideMenuSection():g.EventSectionShowing&&(S.HideEventSection(),S.ShowGalaxySVG())}};t.Globals=g,t.Functions=S;var M=function(t,n,a){this.properties=e.extend({},g.CategoryDefaultProperties,n),this.position=g.CategoriesPosition[t],this.events=[],this.setEvents(a),this.initialize()};M.prototype={initialize:function(){var t=this.position,n=this.$category=S.$CreateCategory(this.properties.title,{x:t.x,y:t.y,transformOrigin:"50% 50% 0"}).appendTo(c.GalaxyContainer);return e.data(n.get(0),"Category",this),this.$title=n.find("text"),this.appendEvents(this.show),l.CategoryMarker.clone().attr({cx:(t.x-640)/g.GalaxyMapRadius*50+50,cy:(t.y-360)/g.GalaxyMapRadius*50+50}).appendTo(c.GalaxyMapSVG),this},clearEvents:function(){for(var e=this.events,t=e.length,n=0;n<t;)e[n].$event.remove(),e[n]=null,n++;return this},setEvents:function(e){this.clearEvents();var t,n=this.events,a=e.length,o=0,i=this.diameter=g.CategoryDiameterMultiplier*a;for(i<g.CategoryDiameterMinimum?this.diameter=g.CategoryDiameterMinimum:i>g.CategoryDiameterMaximum&&(this.diameter=g.CategoryDiameterMaximum);o<a;o++)t=e[o],g.EventIDToIndexMap[t.id]=o,n.push(new C(this,o,t));return this},appendEvents:function(t){function n(e,n){setTimeout(function(){e.appendTo(o),++l===r&&t.apply(a)},n)}e.isFunction(t)||(t=e.noop);for(var a=this,o=a.$category,i=a.events,r=i.length,s=0,l=0;s<r;)n(i[s].$event,1e3*Math.random()),s++;return this},show:function(e){var t=this;a.fromTo(t.$category,1,{opacity:0},{opacity:1,ease:Power4.easeInOut,onComplete:e?o:function(){t.showEvents()}}),a.fromTo(t.$title,1,{y:-32},{y:0,ease:Power4.easeOut})},showEvents:function(){for(var e=this.events,t=e.length,n=0;n<t;)e[n].show(),n++}},t.Category=M;var C=function(t,n,a){this.category=t,this.properties=e.extend({},g.EventDefaultProperties,a),this.initialize()};C.prototype={initialize:function(){var t=this.properties,n=this.category.diameter,a=this.position=new i(n*(Math.random()-.5),n*(Math.random()-.5)),o=this.$event=S.$CreateEvent(t.title,t.color=S.GenerateRandomColor(160,255,160,255,160,255),{x:a.x,y:a.y,transformOrigin:"50% 50% 0",display:"none"});return e.data(o.get(0),"Event",this),this.$title=o.find("text"),this},show:function(){var e=this.$title;return a.fromTo(this.$event.css("display","block"),2,{opacity:0,scale:.5,transformOrigin:"50% 50% 0"},{opacity:1,scale:1,transformOrigin:"50% 50% 0",ease:Power4.easeInOut,onComplete:function(){a.fromTo(e,1,{opacity:0,y:-8},{opacity:1,y:0,ease:Power4.easeInOut})}}),this},showDetails:function(){var e=this.properties;return c.EventSVGStar.css("fill",e.color),c.EventContentTitle.text(e.title),c.EventContentCategory.text(this.category.properties.title),c.EventContentDescription.text(e.description),c.EventContentRules.text(e.rules),S.ShowEventSection(),S.HideGalaxySVG(),this}},t.Event=C,e(function(){if(g.GalaxyMapRadius=g.GalaxyRadius+g.CategoryDiameterMaximum,g.GalaxyMapMinimumX=640-g.GalaxyMapRadius,g.GalaxyMapMinimumY=360-g.GalaxyMapRadius,g.GalaxyMapMaximumX=640+g.GalaxyMapRadius,g.GalaxyMapMaximumY=360+g.GalaxyMapRadius,c.LoadingFrame=e("#LoadingFrame",n),c.Logo=e("#Logo",n),c.HeaderCloseButton=e("#HeaderCloseButton",n).on("click",S.HeaderCloseButtonOnClick),c.GalaxySVG=e("#GalaxySVG",n),c.GalaxySVG.length>0&&(c.GalaxyContainer=e("#GalaxyContainer",c.GalaxySVG),c.GalaxyContainer.length>0)){var t=c.GalaxyContainer.find(".Event"),a=c.GalaxyContainer.find(".Category");l.Event=t.clone(),t.remove(),l.Category=a.clone(),a.remove()}if(c.GalaxyMapSVG=e("#GalaxyMapSVG",n),c.GalaxyMapSVG.length>0){var o=e(".CategoryMarker",c.GalaxyMapSVG);l.CategoryMarker=o.clone(),o.remove(),c.FieldOfView=e("#FieldOfView",c.GalaxyMapSVG).attr({width:1280/g.GalaxyMapRadius*50,height:720/g.GalaxyMapRadius*50})}c.EventSection=e("#EventSection",n),c.EventSection.length>0&&(c.EventSVG=e("#EventSVG",c.EventSection),c.EventSVG.length>0&&(c.EventSVGStar=e(".Star",c.EventSVG),c.EventSVGStarShells=e(".Shell",c.EventSVGStar)),c.EventContentContainer=e("#EventContentContainer",c.EventSection),c.EventContentContainer.length>0&&(c.EventContentContainerElements=e("> div > div",c.EventContentContainer).children(),c.EventContentTitle=e("#EventContentTitle",c.EventContentContainer),c.EventContentCategory=e("#EventContentCategory",c.EventContentContainer),c.EventContentDescription=e("#EventContentDescription",c.EventContentContainer),c.EventContentRules=e("#EventContentRules",c.EventContentContainer),c.EventClockSVG=e("#EventClockSVG",c.EventContentContainer),c.EventClockSVG.length>0&&(c.EventClockOuter=e("#EventClockOuter",c.EventClockSVG),c.EventClockTick=e("#EventClockTick",c.EventClockSVG),c.EventClockInner=e("#EventClockInner",c.EventClockSVG),c.EventClockMinute=e("#EventClockMinute",c.EventClockSVG),c.EventClockSecond=e("#EventClockSecond",c.EventClockSVG)))),S.WindowOnResize(),S.RequestGalaxyMovementAnimationLoop(),S.Initialize()}),e(n).on("click",".Event",S.EventOnClick).on("initialized",S.HideLoading),e(t).on("resize",S.WindowOnResize).on("mouseout",S.WindowOnMouseOut).on("mousemove",S.WindowOnMouseMove).on("keyup",S.WindowOnKeyUp)}(jQuery,window,document,TweenMax),function(e,t,n,a,o){var i={NoSearchResults:e('<div id="NoSearchResults">\n    <h3>No Events Found, Please Try Another Query.</h3>\n</div>')},r={},s=e.extend(t.Globals,{MenuSectionShowing:!1,MenuSectionTransiting:!1,MenuFrameTransiting:!1}),l=e.extend(t.Functions,{ShowSearchBar:function(t,n){t=t||1.5,n=n||o;var i=t/3,l=2*t/3;a.killTweensOf(r.MenuIcon),a.fromTo(r.MenuIcon,i,{scale:.5,transformOrigin:"50% 50% 0"},{scale:.88,transformOrigin:"50% 50% 0",ease:Power4.easeOut}),r.SearchBarBorder.css("display","block"),s.TrailSearchBarBorder===o&&(s.TrailSearchBarBorder=r.SearchBarBorder.Trail({stagger:!0,staggerDelay:.1,duration:l,ease:Power4.easeOut},{paused:!0}).GetTrail()),s.TrailSearchBarBorder.timeLine.eventCallback("onComplete",function(){e.isFunction(n)&&n()}),setTimeout(function(){s.TrailSearchBarBorder.play()},i/2*1e3),a.killTweensOf(r.MenuIconMiddle),a.fromTo(r.MenuIconMiddle,i,{attr:{d:"m 3.4532481,1031.6817 48.8640159,0"}},{attr:{d:"m 10.555653,1043.6641 9.469718,-8.7922"},ease:Power4.easeOut,onComplete:function(){r.SearchGlass.css("display","block"),s.TrailSearchGlass===o&&(s.TrailSearchGlass=r.SearchGlass.Trail({duration:l,ease:Power4.easeOut},{paused:!0}).GetTrail()),s.TrailSearchGlass.play(),r.MenuIconTop.css("display","none"),r.MenuIconBottom.css("display","none"),a.killTweensOf(r.SearchBarInput),a.fromTo(r.SearchBarInput.css("display","block"),l,{opacity:0,x:48},{opacity:1,x:0,ease:Power4.easeOut})}})},HideSearchBar:function(t,n){t=t||1.5,n=n||o;var i=t/3,l=2*t/3;s.TrailSearchGlass.timeLine.eventCallback("onReverseComplete",function(){a.killTweensOf(r.MenuIconMiddle),a.fromTo(r.MenuIconMiddle,i,{attr:{d:"m 10.555653,1043.6641 9.469718,-8.7922"}},{attr:{d:"m 3.4532481,1031.6817 48.8640159,0"},ease:Power4.easeOut,onComplete:function(){a.killTweensOf(r.MenuIcon),a.fromTo(r.MenuIcon,i,{scale:.88,transformOrigin:"50% 50% 0"},{scale:.5,transformOrigin:"50% 50% 0",ease:Power4.easeOut,onComplete:function(){e.isFunction(n)&&n()}})}})}).reverse(),s.TrailSearchBarBorder.reverse(),r.MenuIconTop.css("display","block"),r.MenuIconBottom.css("display","block"),a.killTweensOf(r.SearchBarInput),a.fromTo(r.SearchBarInput,l,{opacity:1,x:0},{opacity:0,x:48,ease:Power4.easeOut,onComplete:function(){r.SearchBarInput.css("display","none")}})},ShowMenuSection:function(t,n){t=t||1,n=n||o,s.MenuSectionShowing||s.MenuSectionTransiting||(s.MenuSectionTransiting=!0,l.HideLogo(),l.ShowHeaderCloseButton(),l.ShowSearchBar(),a.killTweensOf(r.MenuSection),a.fromTo(r.MenuSection.css("display","block"),t,{opacity:0,top:"100vh"},{opacity:1,top:0,ease:Power4.easeOut,onComplete:function(){s.MenuSectionTransiting=!1,s.MenuSectionShowing=!0,l.CancelGalaxyMovementAnimationLoop(),e.isFunction(n)&&n()}}))},HideMenuSection:function(t,n){t=t||1,n=n||o,s.MenuSectionShowing&&!s.MenuSectionTransiting&&(s.MenuSectionTransiting=!0,s.EventSectionShowing||(l.ShowLogo(),l.HideHeaderCloseButton()),l.HideSearchBar(),a.killTweensOf(r.MenuSection),a.fromTo(r.MenuSection,t,{opacity:1,top:0},{opacity:0,top:"100vh",ease:Power4.easeOut,onComplete:function(){s.MenuSectionTransiting=!1,r.MenuSection.css("display","none"),s.MenuSectionShowing=!1,s.EventSectionShowing||l.RequestGalaxyMovementAnimationLoop(),e.isFunction(n)&&n()}}))},ShowMenuHeading:function(t,n,i){n=n||1,i=i||o;var s=e("#"+t,r.MenuHeadingFrame);if(s.hasClass("Active"))e.isFunction(i)&&i();else{var l=e(".MenuHeading.Active:not(#"+t+")",r.MenuHeadingFrame);a.killTweensOf(s),a.fromTo(s,n,{left:"-24rem",opacity:0},{left:"1rem",opacity:1,ease:Power4.easeOut,clearProps:"all",onComplete:function(){s.addClass("Active"),e.isFunction(i)&&i()}}),a.killTweensOf(l),a.fromTo(l,n,{left:"1rem",opacity:1},{left:"24rem",opacity:0,ease:Power4.easeOut,clearProps:"all",onComplete:function(){l.removeClass("Active")}})}},ShowMenuFrame:function(n,i,l){if(i=i||1,l=l||o,!s.MenuFrameTransiting)if(s.MenuFrameTransiting=!0,n.hasClass("Active"))e.isFunction(l)&&(s.MenuFrameTransiting=!1,l());else{var c=e(".MenuFrame.Active:not("+n.prop("id")+")",r.MenuSection);r.MenuSection.css("overflow-y","hidden"),a.killTweensOf(n),a.fromTo(n.css("display","block"),i,{opacity:0,left:"-100vw",rotationY:"-22.5deg",transformOrigin:"50% 50% 0",transformPerspective:s.WindowWidth},{opacity:1,left:0,rotationY:"0deg",transformOrigin:"50% 50% 0",transformPerspective:s.WindowWidth,ease:Power4.easeOut,clearProps:"all",onComplete:function(){s.MenuFrameTransiting=!1,n.addClass("Active"),r.MenuSection.css("overflow-y","auto"),e.isFunction(l)&&l();var a=t[n.attr("data-onShow")];e.isFunction(a)&&a()}}),a.killTweensOf(c),a.fromTo(c.css("display","block"),i,{opacity:1,left:0,rotationY:"0deg",transformOrigin:"50% 50% 0",transformPerspective:s.WindowWidth},{opacity:0,left:"100vw",rotationY:"22.5deg",transformOrigin:"50% 50% 0",transformPerspective:s.WindowWidth,ease:Power4.easeOut,clearProps:"all",onComplete:function(){c.removeClass("Active");var n=t[c.attr("data-onHide")];e.isFunction(n)&&n()}})}},ShowMenuBackButton:function(t,n){t=t||1,n=n||o;var i=e(".MenuHeading.Active",r.MenuHeadingFrame);a.killTweensOf(r.MenuBackButton),a.fromTo(r.MenuBackButton,t,{left:"-4.2rem",opacity:0},{left:"1rem",opacity:1,ease:Power4.easeOut,clearProps:"all",onComplete:function(){r.MenuBackButton.addClass("Show"),e.isFunction(n)&&n()}}),a.killTweensOf(i),a.fromTo(i,t,{left:"1rem"},{left:"5.6rem",ease:Power4.easeOut})},HideMenuBackButton:function(t,n,i){if(t=t||1,n=n||o,i=i||!0,a.killTweensOf(r.MenuBackButton),a.fromTo(r.MenuBackButton,t,{left:"1rem",opacity:1},{left:"-4.2rem",opacity:0,ease:Power4.easeOut,clearProps:"all",onComplete:function(){r.MenuBackButton.removeClass("Show"),e.isFunction(n)&&n()}}),i===!1){var s=e(".MenuHeading.Active",r.MenuHeadingFrame);a.killTweensOf(s),a.fromTo(s,t,{left:"5.6rem"},{left:"1rem",ease:Power4.easeOut})}},MenuIconOverlayOnClick:function(e){e.stopPropagation(),l.ShowMenuSection()},GenerateCategoryListFrame:function(){for(var t,n,a=r.CategoryListFrame.detach().empty(),o=s.Categories,l=o.length,c=i.CategoryButton,u=0;u<l;u++)n=o[u],e.data((t=c.clone()).get(0),"Category",n),t.find("text").text(n.properties.title),a.append(t);r.EventListFrame.before(a)},GenerateEventListFrame:function(t){for(var n,a,o=r.EventListFrame.detach().empty(),s=i.EventButton,l=t.events,c=l.length,u=0;u<c;u++)n=l[u],e.data((a=s.clone()).get(0),"Event",n),a.find(".EventButtonTitle").text(n.properties.title),o.append(a);r.CategoryListFrame.after(o)},GenerateSearchResults:function(t){var n,o,s,c=r.SearchListFrame.detach().empty(),u=i.EventButton,d=t.length;if(d>0)for(var m=0;m<d;m++)n=t[m],o=l.GetEventFromID(n.CategoryId,n.Id),e.data((s=u.clone()).get(0),"Event",o),s.find(".EventButtonTitle").text(o.properties.title),c.append(s);else c.append(i.NoSearchResults.clone());r.EventListFrame.after(c),a.staggerFromTo(c.children(),1,{opacity:0,y:"100%",rotationX:"-22.5deg",transformOrigin:"50% 50% 0",transformPerspective:"200rem"},{opacity:1,y:"0%",rotationX:"0deg",transformOrigin:"50% 50% 0",transformPerspective:"200rem",ease:Power4.easeOut},.1)},CategoryListFrameCategoryButtonOnClick:function(t){if(t.stopPropagation(),!s.MenuFrameTransiting){var n=e.data(this,"Category");r.CategoryHeading.text(n.properties.title),l.GenerateEventListFrame(n),l.ShowMenuHeading("CategoryHeading",1,l.ShowMenuBackButton),l.ShowMenuFrame(r.EventListFrame)}},EventButtonOnClick:function(t){t.stopPropagation();var n=e.data(this,"Event");l.HideMenuSection(),n.showDetails()},MenuBackButtonOnClick:function(e){e.stopPropagation(),s.MenuFrameTransiting||(l.HideMenuBackButton(.5),l.ShowMenuFrame(r.CategoryListFrame),l.ShowMenuHeading("CategoriesHeading"))},SearchBarInputOnKeyDown:function(t){if(13===t.keyCode){t.stopPropagation(),t.preventDefault();var n=r.SearchBarInput.blur().val();n.length>0&&e.ajax({url:s.APIAddress+"/events?query="+encodeURI(n),type:"GET",beforeSend:function(){l.ShowLoading()},success:function(e){e=l.ExtendResponse(e),200===e.status.code&&(l.GenerateSearchResults(e.data),l.HideMenuBackButton(.5),l.ShowMenuHeading("SearchResultsHeading",1,l.ShowMenuBackButton),l.ShowMenuFrame(r.SearchListFrame))},complete:function(){l.HideLoading()}})}},MenuButtonOnClick:function(t){if(t.stopPropagation(),!s.MenuFrameTransiting){var n=e(this).attr("data-for"),a=e("#"+n+"Frame",r.MenuSection);a.hasClass("Active")||(l.HideMenuBackButton(.5),l.ShowMenuHeading(n+"Heading",1,l.ShowMenuBackButton),l.ShowMenuFrame(e("#"+n+"Frame",r.MenuSection)))}},OnInitialized:function(){l.GenerateCategoryListFrame()}});e(function(){if(r.SearchBar=e("#SearchBar",n),r.SearchBar.length>0&&(r.SearchBarSVG=e("#SearchBarSVG",r.SearchBar),r.SearchBarSVG.length>0&&(r.SearchBarBorder=e("#SearchBarBorder",r.SearchBarSVG),r.SearchGlass=e("#SearchGlass",r.SearchBarSVG),a.set(r.MenuIcon=e("#MenuIcon",r.SearchBarSVG),{scale:.5,transformOrigin:"50% 50% 0"}),r.MenuIcon.length>0&&(r.MenuIconTop=e("#MenuIconTop",r.MenuIcon),r.MenuIconMiddle=e("#MenuIconMiddle",r.MenuIcon),r.MenuIconBottom=e("#MenuIconBottom",r.MenuIcon))),r.SearchBarInput=e("#SearchBarInput",r.SearchBar).on("keydown",l.SearchBarInputOnKeyDown)),r.MenuSection=e("#MenuSection",n),r.MenuSection.length>0){if(r.MenuHeadingFrame=e("#MenuHeadingFrame",r.MenuSection),r.MenuHeadingFrame.length>0&&(r.MenuBackButton=e("#MenuBackButton",r.MenuHeadingFrame).on("click",l.MenuBackButtonOnClick),r.CategoryHeading=e("#CategoryHeading",r.MenuHeadingFrame)),r.CategoryListFrame=e("#CategoryListFrame",r.MenuSection),r.CategoryListFrame.length>0){var t=e(".CategoryButton",r.CategoryListFrame);i.CategoryButton=t.clone(),t.remove()}if(r.EventListFrame=e("#EventListFrame",r.MenuSection),r.EventListFrame.length>0){var o=e(".EventButton",r.EventListFrame);i.EventButton=o.clone(),o.remove()}r.SearchListFrame=e("#SearchListFrame",r.MenuSection)}r.HeaderCloseButton=e("#HeaderCloseButton",n).on("click",l.HeaderCloseButtonOnClick)}),e(n).on("click","#MenuIconOverlay",l.MenuIconOverlayOnClick).on("mouseup","#CategoryListFrame .CategoryButton",l.CategoryListFrameCategoryButtonOnClick).on("mouseup",".EventButton",l.EventButtonOnClick).on("mouseup",".MenuButton",l.MenuButtonOnClick).on("initialized",l.OnInitialized)}(jQuery,window,document,TweenMax),function(e,t,n){var a={},o={fireIn:function(e,t){TweenMax.to(e,.1,{scale:1.5,repeat:-1,repeatDelay:t,yoyo:!0})},fireOut:function(e,t){TweenMax.to(e,.1,{scale:.8,repeat:-1,repeatDelay:t,yoyo:!0})},upDown:function(){TweenMax.to(a.rocket,2,{y:-30,repeat:-1,yoyo:!0,repeatDelay:.2,ease:Sine.easeInOut})}};t.ready(function(){a.fire1=n("#path4142"),a.fire2=n("#path4142-5"),a.fire3=n("#path4142-2"),a.fire4=n("#path4142-4"),a.fire5=n("#path4142-0"),a.fire6=n("#path4142-44"),a.fire7=n("#path4142-49"),a.rocket=n("#rocket")}),window.FireAboutUsRocket=function(){o.upDown(),o.fireIn(a.fire1,.1),o.fireOut(a.fire2,.15),o.fireOut(a.fire3,.2),o.fireIn(a.fire4,.1),o.fireIn(a.fire5,.05),o.fireIn(a.fire6,.18),o.fireOut(a.fire7,.1)},window.StopAboutUsRocket=function(){TweenMax.killTweensOf(a.fire1),TweenMax.killTweensOf(a.fire2),TweenMax.killTweensOf(a.fire3),TweenMax.killTweensOf(a.fire4),TweenMax.killTweensOf(a.fire5),TweenMax.killTweensOf(a.fire6),TweenMax.killTweensOf(a.fire7),TweenMax.killTweensOf(a.rocket)}}(document,jQuery(document),jQuery);
