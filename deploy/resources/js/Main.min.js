!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){e(n,window,document,t)}):"object"==typeof module&&module.exports?module.exports=function(n,o){return o===t&&(o="undefined"!=typeof window?require("jquery"):require("jquery")(n)),e(o,window,document,t),o}:e(jQuery,window,document,t)}(function(e,t,n,o){"use strict";var a={precision:0,divisions:2,pathLengths:o,startOffsets:o,strokeDashes:o,inverse:!1,stagger:!1,staggerDelay:0,duration:1,ease:Linear.easeNone,onComplete:e.noop},i=function(t,n,i,r){var s=[];switch(t.tagName.toLowerCase()){case"path":s.push(t);break;case"svg":case"g":s=e(t).find("path").toArray(),r!==o&&(s=s.sort(r));break;default:return void console.warn("Trail() :: Element ("+t.tagName+") given is not of compatible type.")}this.paths=s,this.timeLineOptions=e.extend({},i),this.properties=e.extend({},a),this.setOptions(n)},r={sanitizeOptions:function(){var t,n=this.properties,o=this.paths,i=n.divisions,r=n.pathLengths=new Float32Array(n.pathLengths),s=0,c=n.startOffsets=new Float32Array(n.startOffsets),l=0,u=n.strokeDashes=[],d=o.length,h=0;for(n.precision=parseInt(n.precision),isNaN(n.precision)&&(n.precision=a.precision),t=n.precision,n.divisions=parseInt(n.divisions),isNaN(n.divisions)&&(n.divisions=a.divisions),r.length!==d&&(r=new Uint32Array(d)),c.length!==d&&(c=new Uint32Array(d));h<d;)s=r[h],l=c[h],(isNaN(s)||0===s)&&(s=2*o[h].getTotalLength()),(isNaN(l)||0===l)&&(l=s/i),u.push((c[h]=l.toFixed(t))+" "+(r[h]=s.toFixed(t))),h++;n.pathLengths=r,n.startOffsets=c,n.duration=parseFloat(n.duration),isNaN(n.duration)&&(n.duration=a.duration),n.staggerDelay=parseFloat(n.staggerDelay),isNaN(n.staggerDelay)&&(n.staggerDelay=a.staggerDelay),e.isFunction(n.onComplete)||(n.onComplete=e.noop)}};i.prototype={setOptions:function(t){var n=this.properties;return n=e.extend(n,t),r.sanitizeOptions.apply(this),this.timeLineOptions.onComplete=n.onComplete,this.initialize()},play:function(e,t){return this.timeLine.play(e,t),this},pause:function(e,t){return this.timeLine.pause(e,t),this},resume:function(e,t){return this.timeLine.resume(e,t),this},reverse:function(e,t){return this.timeLine.reverse(e,t),this},seek:function(e,t){return this.timeLine.seek(e,t),this},initialize:function(){var e,t,n=this.properties,o=this.paths,a=n.strokeDashes,i=n.startOffsets,r=n.duration,s=n.ease,c=o.length,l=0,u=n.stagger?"0":"+=0",d=n.stagger?n.staggerDelay:0,h=this.timeLine=new TimelineMax(this.timeLineOptions);if(n.inverse)for(;l<c;)e=a[l],t=i[l],h.fromTo(o[l],r,{strokeDasharray:e,strokeDashoffset:-t},{strokeDashoffset:0,ease:s,delay:d*l},u),l++;else for(;l<c;)e=a[l],t=i[l],h.fromTo(o[l],r,{strokeDasharray:e,strokeDashoffset:t},{strokeDashoffset:0,ease:s,delay:d*l},u),l++;return this}},e.Trail=function(t){return e.extend(t,a)},e.fn.Trail=function(t,n){return this.each(function(){e.data(this,"Trail")instanceof i||e.data(this,"Trail",new i(this,t,n))})},e.fn.GetTrail=function(){var t;if(this.length>1){var n=[];return this.each(function(){t=e.data(this,"Trail"),t!==o&&t instanceof i&&n.push(t)}),e(n)}if(1===this.length&&(t=e.data(this[0],"Trail"),t!==o&&t instanceof i))return t},t.Trail=i}),function(e,t,n,o,a){"use strict";String.prototype.capitalize=function(){var e,t=this.split(" "),n=0,o=t.length,a="";if(o>0)for(e=t[n++],a+=e.charAt(0).toUpperCase()+e.slice(1);n<o;n++)e=t[n],a+=" "+e.charAt(0).toUpperCase()+e.slice(1);return a};var i=function(e,t){this.x=e,this.y=t},r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,s=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame,c={},l={},u={APIAddress:"http://techspardha.org/api",WindowWidth:t.innerWidth,WindowHeight:t.innerHeight,WindowHalfWidth:t.innerWidth/2,WindowHalfHeight:t.innerHeight/2,MouseDeltaX:0,MouseDeltaY:0,MouseDeltaThreshold:.5,GalaxyContainerShowing:!0,GalaxyContainerTransiting:!1,GalaxyContainerX:0,GalaxyContainerY:0,GalaxyMovementSpeed:2,GalaxyMovementAnimationFrameID:a,EventSectionShowing:!1,EventSectionTransiting:!1,EventSVGStarScale:100,EventSVGStarHalfSize:400,EventDefaultProperties:{id:0,societyID:0,title:"Event",description:"Description",image:"IMAGE_URL",venue:"Venue",startTime:"Start Time",endTime:"End Time",currentRound:1,totalRounds:1,maxParticipants:1,status:"Not Started",pdf:"PDF_URL",rules:"Rules",coordinators:[],delay:0,color:"rgb(255, 255, 255)"},CategoryDefaultProperties:{id:0,title:"Category"},CategoryDiameter:512,CategoriesPosition:[],Categories:[],CategoryIDToIndexMap:{},EventIDToIndexMap:{}},d={ShowLoading:function(){l.LoadingFrame.addClass("Show")},HideLoading:function(){o.killTweensOf(l.LoadingFrame),o.fromTo(l.LoadingFrame,1,{opacity:1,scale:1,transformOrigin:"50% 50% 0"},{opacity:0,scale:1.3,transformOrigin:"50% 50% 0",ease:Power4.easeInOut,clearProps:"all",onComplete:function(){l.LoadingFrame.removeClass("Show")}})},UpdateViewBoxSize:function(){var e="0 0 "+u.WindowWidth+" "+u.WindowHeight;l.GalaxySVG.attr("viewBox",e),l.EventSVG.attr("viewBox",e)},UpdateEventSVGStarPosition:function(){o.set(l.EventSVGStar,{x:u.WindowWidth-u.EventSVGStarHalfSize,y:u.WindowHeight-u.EventSVGStarHalfSize,scale:u.EventSVGStarScale})},MoveGalaxyContainerBy:function(e,t){e=Math.abs(e)<u.MouseDeltaThreshold?0:e,t=Math.abs(t)<u.MouseDeltaThreshold?0:t,o.to(l.GalaxyContainer,2,{x:u.GalaxyContainerX+=e,y:u.GalaxyContainerY+=t,ease:Power4.easeOut})},RequestGalaxyMovementAnimationLoop:function(){u.GalaxyMovementAnimationFrameID=r(d.GalaxyMovementAnimationLoop)},CancelGalaxyMovementAnimationLoop:function(){s(u.GalaxyMovementAnimationFrameID),u.GalaxyMovementAnimationFrameID=a},GalaxyMovementAnimationLoop:function(){u.GalaxyContainerShowing&&!u.GalaxyContainerTransiting?(d.MoveGalaxyContainerBy(u.MouseDeltaX,u.MouseDeltaY),d.RequestGalaxyMovementAnimationLoop()):d.CancelGalaxyMovementAnimationLoop()},WindowOnResize:function(){u.WindowHalfWidth=(u.WindowWidth=t.innerWidth)/2,u.WindowHalfHeight=(u.WindowHeight=t.innerHeight)/2,d.UpdateViewBoxSize(),d.UpdateEventSVGStarPosition()},WindowOnMouseMove:function(e){u.MouseDeltaX=(u.WindowHalfWidth-e.pageX)/u.WindowHalfWidth*u.GalaxyMovementSpeed,u.MouseDeltaY=(u.WindowHalfHeight-e.pageY)/u.WindowHalfHeight*u.GalaxyMovementSpeed,u.MenuSectionShowing||u.EventSectionShowing||u.GalaxyMovementAnimationFrameID!==a||d.RequestGalaxyMovementAnimationLoop()},WindowOnMouseOut:function(e){var t=e.target;(!t||"svg"===t.nodeName.toLowerCase()&&"GalaxySVG"===t.id)&&d.CancelGalaxyMovementAnimationLoop()},WindowOnKeyDown:function(e){27===e.keyCode&&d.HeaderCloseButtonOnClick()},GenerateRandomColor:function(e,t,n,o,a,i){e=e||0,t=t||255,n=n||0,o=o||255,a=a||0,i=i||255;var r=Math.round(Math.random()*(t-e+1)+e),s=Math.round(Math.random()*(o-n+1)+n),c=Math.round(Math.random()*(i-a+1)+a);return"rgb("+r+", "+s+", "+c+")"},$CreateEvent:function(e,t,n){var a=c.Event.clone();return a.find("text").html(e),a.find(".Star").css("fill",t),o.set(a,n),a},$CreateCategory:function(e,t){var n=c.Category.clone();return n.find("text").html(e),o.set(n,t),n},EventOnClick:function(){var t=e.data(this,"Event");t.showDetails()},ShowLogo:function(e,t){e=e||1,t=t||a,o.killTweensOf(l.Logo),o.fromTo(l.Logo,e,{top:"-6.4rem"},{top:"1.2rem",ease:Power4.easeOut,onComplete:t})},HideLogo:function(e,t){e=e||1,t=t||a,o.killTweensOf(l.Logo),o.fromTo(l.Logo,e,{top:"1.2rem"},{top:"-6.4rem",ease:Power4.easeOut,onComplete:t})},ShowHeaderCloseButton:function(e,t){e=e||1,t=t||a,o.killTweensOf(l.HeaderCloseButton),o.fromTo(l.HeaderCloseButton,e,{top:"12.4rem",opacity:0},{top:"5.4rem",opacity:1,ease:Power4.easeOut,onComplete:t})},HideHeaderCloseButton:function(e,t){e=e||1,t=t||a,o.killTweensOf(l.HeaderCloseButton),o.fromTo(l.HeaderCloseButton,e,{top:"5.4rem",opacity:1},{top:"12.4rem",opacity:0,ease:Power4.easeOut,onComplete:t})},ShowGalaxyContainer:function(t,n){t=t||2,n=n||a,u.GalaxyContainerShowing||u.GalaxyContainerTransiting||(u.GalaxyContainerTransiting=!0,o.killTweensOf(l.GalaxyContainer),o.fromTo(l.GalaxyContainer,t,{display:"block",opacity:0,scale:.5,transformOrigin:"50% 50% 0"},{opacity:1,scale:1,transformOrigin:"50% 50% 0",ease:Power4.easeOut,onComplete:function(){u.GalaxyContainerTransiting=!1,u.GalaxyContainerShowing=!0,e.isFunction(n)&&n()}}))},HideGalaxyContainer:function(t,n){t=t||2,n=n||a,u.GalaxyContainerShowing&&!u.GalaxyContainerTransiting&&(u.GalaxyContainerTransiting=!0,o.killTweensOf(l.GalaxyContainer),o.fromTo(l.GalaxyContainer,t,{display:"block",opacity:1,scale:1,transformOrigin:"50% 50% 0"},{opacity:0,scale:.5,transformOrigin:"50% 50% 0",ease:Power4.easeOut,onComplete:function(){u.GalaxyContainerTransiting=!1,l.GalaxyContainer.css("display","none"),u.GalaxyContainerShowing=!1,e.isFunction(n)&&n()}}))},ShowEventSection:function(t,n){if(t=t||2,n=n||a,!u.EventSectionShowing&&!u.EventSectionTransiting){var i=t/2;u.EventSectionTransiting=!0,l.EventSVGStarShells.css("display","none"),d.HideLogo(),d.ShowHeaderCloseButton(),o.killTweensOf(l.EventSection),o.fromTo(l.EventSection,t,{display:"block",opacity:0,top:"100vh"},{opacity:1,top:0,ease:Power4.easeOut,onComplete:function(){l.EventSVGStarShells.css("display","block")}}),o.killTweensOf(l.EventContentContainer),o.fromTo(l.EventContentContainer,i,{opacity:0},{opacity:1,ease:Power4.easeOut,delay:i,onComplete:function(){u.EventSectionTransiting=!1,u.EventSectionShowing=!0,e.isFunction(n)&&n()}}),o.killTweensOf(l.EventContentContainerElements),o.staggerFromTo(l.EventContentContainerElements,i,{opacity:0,top:50},{opacity:1,top:0,ease:Power4.easeOut,delay:i},.2)}},HideEventSection:function(t,n){t=t||2,n=n||a,u.EventSectionShowing&&!u.EventSectionTransiting&&(d.ShowLogo(),d.HideHeaderCloseButton(),o.killTweensOf(l.EventSection),o.fromTo(l.EventSection,t,{display:"block",opacity:1},{opacity:0,ease:Power4.easeOut,onComplete:function(){u.EventSectionTransiting=!1,l.EventSVGStarShells.css("display","none"),l.EventSection.css("display","none"),u.EventSectionShowing=!1,e.isFunction(n)&&n()}}))},ExtendResponse:function(t){return e.extend({status:{code:200,message:"SUCCESS"},data:[]},t)},Initialize:function(){e.ajax({url:u.APIAddress+"/categories",type:"GET",beforeSend:function(){},success:function(t){if(t=d.ExtendResponse(t),200===t.status.code){var o=t.data,a=o.length;e.ajax({url:u.APIAddress+"/events",type:"GET",beforeSend:function(){},success:function(t){if(t=d.ExtendResponse(t),200===t.status.code){var r,s,c,l,p=t.data,f=p.length,m={};for(u.CategoriesPosition=[],u.CategoryIDToIndexMap={},s=0;s<a;s++)l=o[s].Id,m[l]=[],u.CategoryIDToIndexMap[l]=s,u.CategoriesPosition.push(new i(2048*(Math.random()-.5)+u.WindowHalfWidth,2048*(Math.random()-.5)+u.WindowHalfHeight));for(var g=0;g<f;g++)r=p[g],m[r.CategoryId].push({id:r.Id,societyID:r.SocietyId,title:r.Name,description:r.Description,image:r.Image,venue:r.Venue,startTime:new Date(r.Start),endTime:new Date(r.End),currentRound:r.CurrentRound,totalRounds:r.TotalRounds,maxParticipants:r.MaxContestants,status:r.Status,pdf:r.Pdf,rules:r.Rules,coordinators:r.Coordinators});for(u.Categories.length=0,u.EventIDToIndexMap={},s=0;s<a;s++)c=o[s],u.Categories.push(new h(s,{id:c.Id,title:c.Name.toLowerCase().capitalize()},m[c.Id]));e(n).trigger("initialized")}},complete:function(){}})}},complete:function(){}})},GetCategoryFromID:function(e){return u.Categories[u.CategoryIDToIndexMap[e]]},GetEventFromID:function(e,t){return d.GetCategoryFromID(e).events[u.EventIDToIndexMap[t]]},LogoOnClick:function(){u.GalaxyContainerShowing||(d.HideEventSection(),d.ShowGalaxyContainer())},HeaderCloseButtonOnClick:function(){u.MenuSectionShowing?d.HideMenuSection():u.EventSectionShowing&&(d.HideEventSection(),d.ShowGalaxyContainer())}};t.Globals=u,t.Functions=d;var h=function(t,n,o){this.index=t,this.properties=e.extend({},u.CategoryDefaultProperties,n),this.position=u.CategoriesPosition[t],this.events=[],this.setEvents(o),this.initialize()};h.prototype={initialize:function(){var t=this.position,n=this.$category=d.$CreateCategory(this.properties.title,{x:t.x,y:t.y}).appendTo(l.GalaxyContainer);return e.data(n.get(0),"Category",this),this.$title=n.find("text"),this.appendEvents(this.show),this},clearEvents:function(){for(var e=this.events,t=e.length,n=0;n<t;)e[n].$event.remove(),e[n]=null,n++;return this},setEvents:function(e){this.clearEvents();for(var t,n=this.events,o=e.length,a=0;a<o;a++)t=e[a],u.EventIDToIndexMap[t.id]=a,n.push(new p(this,a,t));return this},appendEvents:function(t){function n(e,n){setTimeout(function(){e.appendTo(a),++c===r&&t.apply(o)},n)}e.isFunction(t)||(t=e.noop);for(var o=this,a=o.$category,i=o.events,r=i.length,s=0,c=0;s<r;)n(i[s].$event,1e3*Math.random()),s++;return this},show:function(e){var t=this;o.fromTo(t.$category,1,{opacity:0},{opacity:1,ease:Power4.easeInOut,onComplete:e?a:function(){t.showEvents()}}),o.fromTo(t.$title,1,{y:-32},{y:0,ease:Power4.easeOut})},showEvents:function(){for(var e=this.events,t=e.length,n=0;n<t;)e[n].show(),n++}},t.Category=h;var p=function(t,n,o){this.category=t,this.index=n,this.properties=e.extend({},u.EventDefaultProperties,o),this.initialize()};p.prototype={initialize:function(){var t=this.properties,n=this.position=new i(u.CategoryDiameter*(Math.random()-.5),u.CategoryDiameter*(Math.random()-.5)),o=this.$event=d.$CreateEvent(t.title,t.color=d.GenerateRandomColor(160,255,160,255,160,255),{x:n.x,y:n.y,display:"none"});return e.data(o.get(0),"Event",this),this.$title=o.find("text"),this},show:function(){return o.fromTo(this.$event,2,{display:"block",opacity:0,scale:.5,transformOrigin:"50% 50% 0"},{opacity:1,scale:1,transformOrigin:"50% 50% 0",ease:Power4.easeInOut}),o.fromTo(this.$title,1,{opacity:0,y:-8},{opacity:1,y:0,ease:Power4.easeInOut,delay:1.5}),this},showDetails:function(){return l.EventSVGStar.css("fill",this.properties.color),l.EventContentTitle.text(this.properties.title),l.EventContentCategory.text(this.category.properties.title),l.EventContentDescription.text(this.properties.description),l.EventContentRules.text(this.properties.rules),d.ShowEventSection(),d.HideGalaxyContainer(),this}},t.Event=p,e(function(){l.LoadingFrame=e("#LoadingFrame",n),l.Logo=e("#Logo",n).on("click",d.LogoOnClick),l.HeaderCloseButton=e("#HeaderCloseButton",n).on("click",d.HeaderCloseButtonOnClick),l.GalaxySVG=e("#GalaxySVG",n),l.GalaxyContainer=e("#GalaxyContainer",l.GalaxySVG),c.Event=l.GalaxyContainer.find(".Event").clone(),l.GalaxyContainer.find(".Event").remove(),c.Category=l.GalaxyContainer.find(".Category").clone(),l.GalaxyContainer.find(".Category").remove(),l.EventSection=e("#EventSection",n),l.EventSVG=e("#EventSVG",l.EventSection),l.EventSVGStar=e(".Star",l.EventSVG),l.EventSVGStarShells=e(".Shell",l.EventSVGStar),l.EventContentContainer=e("#EventContentContainer",l.EventSection),l.EventContentContainerElements=e("> div > div",l.EventContentContainer).children(),l.EventContentTitle=e("#EventContentTitle",l.EventContentContainer),l.EventContentCategory=e("#EventContentCategory",l.EventContentContainer),l.EventContentDescription=e("#EventContentDescription",l.EventContentContainer),l.EventContentRules=e("#EventContentRules",l.EventContentContainer),d.WindowOnResize(),d.RequestGalaxyMovementAnimationLoop(),l.EventSection.css("display","none"),d.Initialize()}),e(n).on("click",".Event",d.EventOnClick).on("initialized",d.HideLoading),e(t).on("resize",d.WindowOnResize).on("mouseout",d.WindowOnMouseOut).on("mousemove",d.WindowOnMouseMove).on("keydown",d.WindowOnKeyDown)}(jQuery,window,document,TweenMax),function(e,t,n,o,a){var i={NoSearchResults:e('<div id="NoSearchResults">\n    <h3>No Events Found, Please Try Another Query.</h3>\n</div>')},r={},s=e.extend(t.Globals,{MenuSectionShowing:!1,MenuSectionTransiting:!1,SearchBarShowing:!1,SearchBarTransiting:!1}),c=e.extend(t.Functions,{ShowSearchBar:function(t,n){if(t=t||1.5,n=n||a,!s.SearchBarShowing&&!s.SearchBarTransiting){s.SearchBarTransiting=!0;var i=t/3,c=2*t/3;o.killTweensOf(r.MenuIcon),o.fromTo(r.MenuIcon,i,{scale:.5,transformOrigin:"50% 50% 0"},{scale:.88,transformOrigin:"50% 50% 0",ease:Power4.easeOut}),r.SearchBarBorder.css("display","block"),s.TrailSearchBarBorder===a&&(s.TrailSearchBarBorder=r.SearchBarBorder.Trail({stagger:!0,staggerDelay:.1,duration:c,ease:Power4.easeOut},{paused:!0}).GetTrail()),s.TrailSearchBarBorder.timeLine.eventCallback("onComplete",function(){s.SearchBarTransiting=!1,s.SearchBarShowing=!0,e.isFunction(n)&&n()}),setTimeout(function(){s.TrailSearchBarBorder.play()},i/2*1e3),o.killTweensOf(r.MenuIconMiddle),o.fromTo(r.MenuIconMiddle,i,{attr:{d:"m 3.4532481,1031.6817 48.8640159,0"}},{attr:{d:"m 10.555653,1043.6641 9.469718,-8.7922"},ease:Power4.easeOut,onComplete:function(){r.SearchGlass.css("display","block"),s.TrailSearchGlass===a&&(s.TrailSearchGlass=r.SearchGlass.Trail({duration:c,ease:Power4.easeOut},{paused:!0}).GetTrail()),s.TrailSearchGlass.play(),r.MenuIconTop.css("display","none"),r.MenuIconBottom.css("display","none"),o.killTweensOf(r.SearchBarInput),o.fromTo(r.SearchBarInput,c,{display:"block",opacity:0,x:48},{opacity:1,x:0,ease:Power4.easeOut})}})}},HideSearchBar:function(t,n){if(t=t||1.5,n=n||a,s.SearchBarShowing&&!s.SearchBarTransiting){var i=t/3,c=2*t/3;s.SearchBarTransiting=!0,s.TrailSearchGlass.timeLine.eventCallback("onReverseComplete",function(){o.killTweensOf(r.MenuIconMiddle),o.fromTo(r.MenuIconMiddle,i,{attr:{d:"m 10.555653,1043.6641 9.469718,-8.7922"}},{attr:{d:"m 3.4532481,1031.6817 48.8640159,0"},ease:Power4.easeOut,onComplete:function(){o.killTweensOf(r.MenuIcon),o.fromTo(r.MenuIcon,i,{scale:.88,transformOrigin:"50% 50% 0"},{scale:.5,transformOrigin:"50% 50% 0",ease:Power4.easeOut,onComplete:function(){s.SearchBarTransiting=!1,s.SearchBarShowing=!1,e.isFunction(n)&&n()}})}})}).reverse(),s.TrailSearchBarBorder.reverse(),r.MenuIconTop.css("display","block"),r.MenuIconBottom.css("display","block"),o.killTweensOf(r.SearchBarInput),o.fromTo(r.SearchBarInput,c,{opacity:1,x:0},{opacity:0,x:48,ease:Power4.easeOut,onComplete:function(){r.SearchBarInput.css("display","none")}})}},ShowMenuSection:function(t,n){t=t||1,n=n||a,s.MenuSectionShowing||s.MenuSectionTransiting||(s.MenuSectionTransiting=!0,c.HideLogo(),c.ShowHeaderCloseButton(),c.ShowSearchBar(),o.killTweensOf(r.MenuSection),o.fromTo(r.MenuSection,t,{display:"block",opacity:0,top:"100vh"},{opacity:1,top:0,ease:Power4.easeOut,onComplete:function(){s.MenuSectionTransiting=!1,s.MenuSectionShowing=!0,c.CancelGalaxyMovementAnimationLoop(),e.isFunction(n)&&n()}}))},HideMenuSection:function(t,n){t=t||1,n=n||a,s.MenuSectionShowing&&!s.MenuSectionTransiting&&(s.MenuSectionTransiting=!0,s.EventSectionShowing||(c.ShowLogo(),c.HideHeaderCloseButton()),c.HideSearchBar(),o.killTweensOf(r.MenuSection),o.fromTo(r.MenuSection,t,{opacity:1,top:0},{opacity:0,top:"100vh",ease:Power4.easeOut,onComplete:function(){s.MenuSectionTransiting=!1,r.MenuSection.css("display","none"),s.MenuSectionShowing=!1,s.EventSectionShowing||c.RequestGalaxyMovementAnimationLoop(),e.isFunction(n)&&n()}}))},ShowMenuHeading:function(t,n,i){n=n||1,i=i||a;var s=e("#"+t,r.MenuHeadingFrame),c=e(".MenuHeading.Active:not(#"+t+")",r.MenuHeadingFrame);o.killTweensOf(s),o.fromTo(s,n,{left:"-24rem",opacity:0},{left:"1rem",opacity:1,ease:Power4.easeOut,clearProps:"all",onComplete:function(){s.addClass("Active"),e.isFunction(i)&&i()}}),o.killTweensOf(c),o.fromTo(c,n,{left:"1rem",opacity:1},{left:"24rem",opacity:0,ease:Power4.easeOut,clearProps:"all",onComplete:function(){c.removeClass("Active")}})},ShowMenuFrame:function(t,n,i){n=n||1,i=i||a;var s=e(".MenuFrame.Active:not("+t.prop("id")+")",r.MenuSection);r.MenuSection.css("overflow-y","hidden"),o.killTweensOf(t),o.fromTo(t,n,{display:"block",opacity:0,top:"30rem"},{opacity:1,top:0,ease:Power4.easeOut,clearProps:"all",onComplete:function(){t.addClass("Active"),r.MenuSection.css("overflow-y","auto"),e.isFunction(i)&&i()}}),o.killTweensOf(s),o.fromTo(s,n,{display:"block",opacity:1,top:0},{opacity:0,top:"30rem",ease:Power4.easeOut,clearProps:"all",onComplete:function(){s.removeClass("Active")}})},ShowMenuBackButton:function(t,n){t=t||1,n=n||a;var i=e(".MenuHeading.Active",r.MenuHeadingFrame);o.killTweensOf(r.MenuBackButton),o.fromTo(r.MenuBackButton,t,{left:"-4.2rem",opacity:0},{left:"1rem",opacity:1,ease:Power4.easeOut,clearProps:"all",onComplete:function(){r.MenuBackButton.addClass("Show"),e.isFunction(n)&&n()}}),o.killTweensOf(i),o.fromTo(i,t,{left:"1rem"},{left:"5.2rem",ease:Power4.easeOut})},HideMenuBackButton:function(t,n,i){if(t=t||1,n=n||a,i=i||!0,o.killTweensOf(r.MenuBackButton),o.fromTo(r.MenuBackButton,t,{left:"1rem",opacity:1},{left:"-4.2rem",opacity:0,ease:Power4.easeOut,clearProps:"all",onComplete:function(){r.MenuBackButton.removeClass("Show"),e.isFunction(n)&&n()}}),i===!1){var s=e(".MenuHeading.Active",r.MenuHeadingFrame);o.killTweensOf(s),o.fromTo(s,t,{left:"5.2rem"},{left:"1rem",ease:Power4.easeOut})}},MenuIconOverlayOnClick:function(e){e.stopPropagation(),c.ShowMenuSection()},GenerateCategoryListFrame:function(){for(var t,n,o=r.CategoryListFrame.detach().empty(),a=s.Categories,c=a.length,l=i.CategoryButton,u=0;u<c;u++)n=a[u],e.data((t=l.clone()).get(0),"Category",n),t.find("text").text(n.properties.title),o.append(t);r.EventListFrame.before(o)},GenerateEventListFrame:function(t){for(var n,o,a=r.EventListFrame.detach().empty(),s=i.EventButton,c=t.events,l=c.length,u=0;u<l;u++)n=c[u],e.data((o=s.clone()).get(0),"Event",n),o.find(".EventButtonTitle").text(n.properties.title),a.append(o);r.CategoryListFrame.after(a)},GenerateSearchResults:function(t){var n,o,a,s=r.SearchListFrame.detach().empty(),l=i.EventButton,u=t.length;if(u>0)for(var d=0;d<u;d++)n=t[d],o=c.GetEventFromID(n.CategoryId,n.Id),e.data((a=l.clone()).get(0),"Event",o),a.find(".EventButtonTitle").text(o.properties.title),s.append(a);else s.append(i.NoSearchResults.clone());r.EventListFrame.after(s)},CategoryListFrameCategoryButtonOnClick:function(t){t.stopPropagation();var n=e.data(this,"Category");r.CategoryHeading.text(n.properties.title),c.GenerateEventListFrame(n),c.ShowMenuHeading("CategoryHeading",1,c.ShowMenuBackButton),c.ShowMenuFrame(r.EventListFrame)},EventListFrameEventButtonOnClick:function(t){t.stopPropagation();var n=e.data(this,"Event");c.HideMenuSection(),n.showDetails()},MenuBackButtonOnClick:function(e){e.stopPropagation(),c.HideMenuBackButton(),c.ShowMenuFrame(r.CategoryListFrame),c.ShowMenuHeading("CategoriesHeading")},SearchBarInputOnKeyDown:function(t){if(13===t.keyCode){t.stopPropagation(),t.preventDefault();var n=r.SearchBarInput.val();n.length>0&&e.ajax({url:s.APIAddress+"/events?query="+encodeURI(n),type:"GET",beforeSend:function(){c.ShowLoading()},success:function(e){e=c.ExtendResponse(e),200===e.status.code&&(c.GenerateSearchResults(e.data),c.ShowMenuHeading("SearchResultsHeading",1,c.ShowMenuBackButton),c.ShowMenuFrame(r.SearchListFrame))},complete:function(){c.HideLoading()}})}},OnInitialized:function(){c.GenerateCategoryListFrame()}});e(function(){if(r.SearchBar=e("#SearchBar",n),r.SearchBar.length>0&&(r.SearchBarSVG=e("#SearchBarSVG",r.SearchBar),r.SearchBarSVG.length>0&&(r.SearchBarBorder=e("#SearchBarBorder",r.SearchBarSVG),r.SearchGlass=e("#SearchGlass",r.SearchBarSVG),o.set(r.MenuIcon=e("#MenuIcon",r.SearchBarSVG),{scale:.5,transformOrigin:"50% 50% 0"}),r.MenuIcon.length>0&&(r.MenuIconTop=e("#MenuIconTop",r.MenuIcon),r.MenuIconMiddle=e("#MenuIconMiddle",r.MenuIcon),r.MenuIconBottom=e("#MenuIconBottom",r.MenuIcon))),r.SearchBarInput=e("#SearchBarInput",r.SearchBar).on("keydown",c.SearchBarInputOnKeyDown)),r.MenuSection=e("#MenuSection",n),r.MenuSection.length>0){if(r.MenuHeadingFrame=e("#MenuHeadingFrame",r.MenuSection),r.MenuHeadingFrame.length>0&&(r.MenuBackButton=e("#MenuBackButton",r.MenuHeadingFrame).on("click",c.MenuBackButtonOnClick),r.CategoryHeading=e("#CategoryHeading",r.MenuHeadingFrame)),r.CategoryListFrame=e("#CategoryListFrame",r.MenuSection),r.CategoryListFrame.length>0){var t=e(".CategoryButton",r.CategoryListFrame);i.CategoryButton=t.clone(),t.remove()}if(r.EventListFrame=e("#EventListFrame",r.MenuSection),r.EventListFrame.length>0){var a=e(".EventButton",r.EventListFrame);i.EventButton=a.clone(),a.remove()}r.SearchListFrame=e("#SearchListFrame",r.MenuSection)}r.HeaderCloseButton=e("#HeaderCloseButton",n).on("click",c.HeaderCloseButtonOnClick)}),e(n).on("click","#MenuIconOverlay",c.MenuIconOverlayOnClick).on("mouseup","#CategoryListFrame .CategoryButton",c.CategoryListFrameCategoryButtonOnClick).on("mouseup",".EventButton",c.EventListFrameEventButtonOnClick).on("initialized",c.OnInitialized)}(jQuery,window,document,TweenMax);
